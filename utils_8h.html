<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>1-phase PV router: Mk2_fasterControl_Full/utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">1-phase PV router
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_576a50aa5f524dfed8b859bbdd5e306e.html">Mk2_fasterControl_Full</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">utils.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Some utility functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;ArduinoJson.h&gt;</code><br />
<code>#include &quot;<a class="el" href="FastDivision_8h_source.html">FastDivision.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calibration_8h_source.html">calibration.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="constants_8h_source.html">constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dualtariff_8h_source.html">dualtariff.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="processing_8h_source.html">processing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="teleinfo_8h_source.html">teleinfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils__temp_8h_source.html">utils_temp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="version_8h_source.html">version.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="utils_8h__incl.png" border="0" usemap="#aMk2__fasterControl__Full_2utils_8h" alt=""/></div>
<map name="aMk2__fasterControl__Full_2utils_8h" id="aMk2__fasterControl__Full_2utils_8h">
<area shape="rect" title="Some utility functions." alt="" coords="869,5,1041,45"/>
<area shape="rect" title=" " alt="" coords="820,387,904,412"/>
<area shape="poly" title=" " alt="" coords="869,31,827,38,784,50,743,68,708,95,696,111,691,127,689,167,683,218,685,259,699,296,728,337,745,353,765,366,808,384,806,389,763,370,742,357,724,340,694,299,680,260,678,218,683,166,686,126,691,109,704,91,741,64,783,45,826,33,869,26"/>
<area shape="rect" title=" " alt="" coords="512,93,623,119"/>
<area shape="poly" title=" " alt="" coords="870,47,637,93,636,88,869,41"/>
<area shape="rect" href="FastDivision_8h.html" title=" " alt="" coords="464,167,577,192"/>
<area shape="poly" title=" " alt="" coords="869,29,768,33,658,43,606,51,561,63,525,77,501,95,495,108,495,123,507,154,502,155,490,124,490,107,497,92,522,73,559,58,605,46,657,38,768,27,869,24"/>
<area shape="rect" href="calibration_8h.html" title="Calibration values definition." alt="" coords="1092,93,1195,119"/>
<area shape="poly" title=" " alt="" coords="1001,43,1104,85,1102,90,999,48"/>
<area shape="rect" href="constants_8h.html" title="Some constants." alt="" coords="1659,387,1756,412"/>
<area shape="poly" title=" " alt="" coords="1042,31,1241,52,1478,83,1587,103,1676,125,1737,150,1754,163,1761,177,1761,254,1757,288,1748,322,1723,376,1719,374,1743,320,1752,287,1755,254,1755,179,1750,166,1734,154,1674,130,1585,108,1477,88,1241,57,1041,37"/>
<area shape="rect" href="utils__temp_8h.html" title="Provides utilities for managing temperature sensors." alt="" coords="1359,240,1461,265"/>
<area shape="poly" title=" " alt="" coords="1042,38,1125,59,1168,73,1209,91,1263,123,1314,161,1391,228,1387,232,1311,165,1261,128,1206,96,1166,78,1123,64,1041,43"/>
<area shape="rect" href="dualtariff_8h.html" title="Classes/types needed for dual&#45;tariff support." alt="" coords="971,93,1065,119"/>
<area shape="poly" title=" " alt="" coords="973,44,1002,81,998,84,968,47"/>
<area shape="rect" href="processing_8h.html" title="Public functions/variables of processing engine." alt="" coords="718,93,822,119"/>
<area shape="poly" title=" " alt="" coords="912,48,811,90,809,85,910,43"/>
<area shape="rect" href="teleinfo_8h.html" title="Manages telemetry data and frame formatting." alt="" coords="857,93,941,119"/>
<area shape="poly" title=" " alt="" coords="944,47,918,84,913,80,940,44"/>
<area shape="rect" href="version_8h.html" title=" " alt="" coords="1795,93,1878,119"/>
<area shape="poly" title=" " alt="" coords="1042,28,1365,49,1571,67,1777,91,1782,91,1781,97,1776,96,1570,72,1365,54,1041,33"/>
<area shape="poly" title=" " alt="" coords="528,191,544,221,569,260,602,301,642,336,682,358,725,374,807,391,806,396,724,379,680,363,639,341,598,305,565,263,539,223,524,194"/>
<area shape="rect" href="config_8h.html" title="Configuration values to be set by the end&#45;user." alt="" coords="1107,167,1180,192"/>
<area shape="poly" title=" " alt="" coords="1146,119,1146,153,1141,153,1141,119"/>
<area shape="rect" href="config__system_8h.html" title="Basic configuration values to be set by the end&#45;user." alt="" coords="849,313,977,339"/>
<area shape="poly" title=" " alt="" coords="1138,194,1111,230,1070,267,1022,294,974,312,972,307,1020,289,1067,263,1107,226,1134,191"/>
<area shape="rect" href="debug_8h.html" title="Some macro for the Serial Output and Debugging." alt="" coords="1001,313,1075,339"/>
<area shape="poly" title=" " alt="" coords="1144,193,1134,227,1115,267,1094,290,1071,308,1068,304,1090,286,1110,264,1129,226,1139,191"/>
<area shape="rect" href="types_8h.html" title="Some basics classes/types." alt="" coords="1599,313,1669,339"/>
<area shape="poly" title=" " alt="" coords="1176,190,1296,238,1322,251,1348,263,1411,282,1475,296,1585,316,1584,321,1474,302,1410,287,1346,268,1320,256,1294,242,1174,195"/>
<area shape="rect" href="utils__dualtariff_8h.html" title="Some utility functions for dual tariff feature." alt="" coords="929,240,1057,265"/>
<area shape="poly" title=" " alt="" coords="1120,194,1031,236,1029,232,1118,190"/>
<area shape="rect" href="utils__relay_8h.html" title="Some utility functions for the relay output feature." alt="" coords="1183,240,1283,265"/>
<area shape="poly" title=" " alt="" coords="1159,190,1209,229,1206,233,1156,194"/>
<area shape="poly" title=" " alt="" coords="1180,189,1348,234,1346,239,1179,195"/>
<area shape="poly" title=" " alt="" coords="906,341,880,377,876,374,902,337"/>
<area shape="rect" href="type__traits_8hpp.html" title="Some useful but missing stl functions templates." alt="" coords="1351,387,1471,412"/>
<area shape="poly" title=" " alt="" coords="977,334,989,336,1338,385,1337,390,988,341,977,340"/>
<area shape="rect" href="conditional_8hpp.html" title=" " alt="" coords="5,467,201,493"/>
<area shape="poly" title=" " alt="" coords="1351,405,787,427,456,444,213,463,176,468,175,462,212,457,455,439,787,422,1351,400"/>
<area shape="rect" href="decay_8hpp.html" title=" " alt="" coords="225,467,387,493"/>
<area shape="poly" title=" " alt="" coords="1351,404,1186,407,951,417,677,434,398,463,369,467,368,462,398,457,676,429,950,411,1186,402,1351,399"/>
<area shape="rect" href="enable__if_8hpp.html" title=" " alt="" coords="411,460,551,500"/>
<area shape="poly" title=" " alt="" coords="1351,404,1213,409,1020,418,796,436,565,463,564,457,795,430,1019,413,1212,403,1351,399"/>
<area shape="rect" href="function__traits_8hpp.html" title=" " alt="" coords="575,460,725,500"/>
<area shape="poly" title=" " alt="" coords="1351,406,1085,424,912,441,738,463,738,463,737,457,738,457,912,435,1084,419,1351,401"/>
<area shape="rect" href="integral__constant_8hpp.html" title=" " alt="" coords="1786,695,1933,735"/>
<area shape="poly" title=" " alt="" coords="1472,401,1930,428,2154,444,2226,451,2257,458,2276,481,2289,505,2297,528,2299,552,2296,576,2288,600,2275,624,2257,649,2237,665,2206,678,2126,697,2034,708,1947,714,1947,709,2033,703,2125,692,2205,673,2234,660,2253,645,2271,622,2283,598,2291,575,2294,552,2292,530,2284,507,2272,484,2254,462,2225,457,2154,449,1930,433,1471,406"/>
<area shape="rect" href="is__array_8hpp.html" title=" " alt="" coords="749,467,924,493"/>
<area shape="poly" title=" " alt="" coords="1351,410,1169,432,944,463,912,468,911,462,943,457,1168,427,1351,405"/>
<area shape="rect" href="is__base__of_8hpp.html" title=" " alt="" coords="1000,460,1145,500"/>
<area shape="poly" title=" " alt="" coords="1363,415,1160,461,1159,456,1361,409"/>
<area shape="rect" href="remove__reference_8hpp.html" title=" " alt="" coords="640,548,809,573"/>
<area shape="poly" title=" " alt="" coords="1351,402,1276,405,1184,414,1085,432,1036,445,990,462,974,471,964,481,954,492,938,502,870,529,803,548,802,543,868,524,935,498,950,488,960,477,971,467,988,458,1035,440,1084,427,1183,408,1276,399,1351,397"/>
<area shape="rect" href="is__class_8hpp.html" title=" " alt="" coords="1072,548,1247,573"/>
<area shape="poly" title=" " alt="" coords="1374,415,1322,434,1267,462,1219,501,1181,539,1177,535,1215,497,1265,458,1320,429,1372,410"/>
<area shape="rect" href="is__const_8hpp.html" title=" " alt="" coords="2319,621,2496,647"/>
<area shape="poly" title=" " alt="" coords="1471,401,1953,429,2190,446,2300,458,2339,490,2368,531,2389,572,2403,607,2398,609,2384,574,2364,533,2335,494,2298,462,2190,451,1952,435,1471,407"/>
<area shape="rect" href="is__convertible_8hpp.html" title=" " alt="" coords="833,548,1048,573"/>
<area shape="poly" title=" " alt="" coords="1353,415,1284,433,1211,462,1196,472,1186,482,1175,492,1159,502,1090,530,1022,548,1021,543,1089,524,1157,498,1172,488,1182,478,1193,468,1209,458,1282,428,1352,409"/>
<area shape="rect" href="is__enum_8hpp.html" title=" " alt="" coords="1322,467,1501,493"/>
<area shape="poly" title=" " alt="" coords="1414,412,1414,453,1409,453,1409,412"/>
<area shape="rect" href="is__floating__point_8hpp.html" title=" " alt="" coords="1517,548,1674,573"/>
<area shape="poly" title=" " alt="" coords="1449,410,1493,429,1536,458,1567,495,1587,533,1583,536,1562,498,1532,462,1490,434,1447,415"/>
<area shape="rect" href="is__same_8hpp.html" title=" " alt="" coords="1470,621,1574,647"/>
<area shape="poly" title=" " alt="" coords="1375,414,1340,433,1324,446,1312,461,1308,479,1313,499,1325,540,1335,555,1352,571,1376,588,1402,601,1457,619,1455,624,1400,606,1373,593,1348,575,1331,559,1320,542,1307,501,1302,479,1308,459,1321,442,1337,428,1372,410"/>
<area shape="rect" href="is__integral_8hpp.html" title=" " alt="" coords="1373,548,1492,573"/>
<area shape="poly" title=" " alt="" coords="1450,410,1486,428,1502,442,1515,459,1522,480,1515,501,1496,526,1472,543,1469,539,1492,522,1510,499,1516,480,1510,461,1498,446,1483,433,1448,414"/>
<area shape="rect" href="is__pointer_8hpp.html" title=" " alt="" coords="1897,621,2083,647"/>
<area shape="poly" title=" " alt="" coords="1472,406,1637,430,1843,465,2027,505,2090,526,2111,536,2124,546,2131,559,2131,571,2125,582,2116,591,2088,607,2054,620,2052,615,2085,603,2112,587,2121,579,2126,570,2126,560,2120,550,2108,540,2088,531,2025,510,1842,470,1636,435,1471,411"/>
<area shape="rect" href="is__signed_8hpp.html" title=" " alt="" coords="1924,548,2109,573"/>
<area shape="poly" title=" " alt="" coords="1456,409,1961,542,1959,547,1454,415"/>
<area shape="rect" href="is__unsigned_8hpp.html" title=" " alt="" coords="1699,548,1900,573"/>
<area shape="poly" title=" " alt="" coords="1444,410,1568,458,1762,540,1760,545,1566,462,1442,415"/>
<area shape="rect" href="make__unsigned_8hpp.html" title=" " alt="" coords="2017,467,2243,493"/>
<area shape="poly" title=" " alt="" coords="1472,403,1703,425,1998,457,2040,463,2040,468,1998,463,1702,430,1471,409"/>
<area shape="rect" href="remove__const_8hpp.html" title=" " alt="" coords="2369,460,2515,500"/>
<area shape="poly" title=" " alt="" coords="1472,401,1951,429,2350,457,2355,458,2355,463,2350,463,1951,434,1471,407"/>
<area shape="rect" href="void__t_8hpp.html" title=" " alt="" coords="2540,467,2704,493"/>
<area shape="poly" title=" " alt="" coords="1472,401,2064,431,2528,457,2558,462,2558,467,2527,463,2064,436,1471,406"/>
<area shape="rect" title=" " alt="" coords="405,548,479,573"/>
<area shape="poly" title=" " alt="" coords="327,491,411,539,409,543,325,495"/>
<area shape="poly" title=" " alt="" coords="780,495,494,552,493,547,779,490"/>
<area shape="poly" title=" " alt="" coords="1000,500,789,548,788,542,999,495"/>
<area shape="rect" href="declval_8hpp.html" title=" " alt="" coords="1001,621,1099,647"/>
<area shape="poly" title=" " alt="" coords="1143,576,1081,616,1078,611,1140,571"/>
<area shape="poly" title=" " alt="" coords="2328,649,1947,704,1946,698,2327,644"/>
<area shape="poly" title=" " alt="" coords="960,571,1022,611,1019,616,957,576"/>
<area shape="poly" title=" " alt="" coords="1375,495,1210,546,1208,541,1374,490"/>
<area shape="poly" title=" " alt="" coords="1343,495,1023,548,1022,543,1342,490"/>
<area shape="poly" title=" " alt="" coords="1439,490,1557,540,1555,545,1437,495"/>
<area shape="poly" title=" " alt="" coords="1399,495,1382,511,1367,531,1359,552,1360,562,1364,572,1383,591,1406,606,1431,616,1457,623,1456,629,1429,622,1403,611,1379,596,1360,575,1355,563,1354,551,1362,528,1378,507,1395,491"/>
<area shape="poly" title=" " alt="" coords="1417,492,1428,534,1423,535,1412,494"/>
<area shape="poly" title=" " alt="" coords="1601,573,1614,609,1625,628,1640,645,1670,665,1703,681,1773,701,1771,706,1702,686,1667,670,1636,649,1620,631,1609,611,1596,575"/>
<area shape="poly" title=" " alt="" coords="1585,576,1546,614,1542,610,1581,572"/>
<area shape="rect" href="remove__cv_8hpp.html" title=" " alt="" coords="1649,621,1771,647"/>
<area shape="poly" title=" " alt="" coords="1615,571,1681,612,1678,616,1612,576"/>
<area shape="poly" title=" " alt="" coords="1572,644,1773,691,1772,696,1570,649"/>
<area shape="poly" title=" " alt="" coords="1435,574,1440,610,1447,629,1460,645,1482,658,1513,670,1594,688,1686,700,1773,707,1772,712,1686,705,1593,693,1511,675,1479,663,1456,649,1443,631,1435,611,1430,574"/>
<area shape="poly" title=" " alt="" coords="1449,571,1498,610,1495,615,1445,575"/>
<area shape="poly" title=" " alt="" coords="1478,571,1652,615,1651,620,1477,576"/>
<area shape="poly" title=" " alt="" coords="1972,649,1904,690,1901,685,1969,645"/>
<area shape="poly" title=" " alt="" coords="1967,576,1924,594,1904,607,1887,623,1871,651,1864,682,1859,680,1866,649,1883,620,1901,603,1922,589,1965,571"/>
<area shape="poly" title=" " alt="" coords="1938,576,1588,626,1587,621,1937,571"/>
<area shape="poly" title=" " alt="" coords="1968,576,1774,621,1772,616,1967,571"/>
<area shape="poly" title=" " alt="" coords="1806,572,1849,681,1844,683,1801,574"/>
<area shape="poly" title=" " alt="" coords="1755,576,1581,620,1580,615,1754,571"/>
<area shape="poly" title=" " alt="" coords="1787,575,1737,615,1734,610,1783,571"/>
<area shape="rect" href="type__identity_8hpp.html" title=" " alt="" coords="2108,621,2243,647"/>
<area shape="poly" title=" " alt="" coords="2140,492,2155,516,2169,547,2175,578,2178,607,2172,607,2170,579,2163,549,2150,519,2136,494"/>
<area shape="poly" title=" " alt="" coords="2130,649,1947,695,1945,689,2129,644"/>
<area shape="poly" title=" " alt="" coords="1599,334,1529,341,918,396,917,391,1528,336,1598,329"/>
<area shape="poly" title=" " alt="" coords="1599,341,1461,385,1459,380,1597,336"/>
<area shape="poly" title=" " alt="" coords="1648,337,1687,375,1684,379,1644,341"/>
<area shape="poly" title=" " alt="" coords="929,264,879,281,857,296,839,315,834,329,835,344,848,374,843,377,829,345,828,328,834,312,853,292,877,276,928,259"/>
<area shape="poly" title=" " alt="" coords="1183,268,978,313,977,308,1182,262"/>
<area shape="poly" title=" " alt="" coords="1283,260,1406,284,1459,298,1487,311,1492,321,1493,332,1485,350,1468,367,1447,382,1444,377,1464,363,1480,347,1488,331,1487,323,1483,315,1457,303,1405,289,1282,265"/>
<area shape="poly" title=" " alt="" coords="1202,268,1083,311,1082,306,1200,263"/>
<area shape="poly" title=" " alt="" coords="1284,260,1580,311,1585,312,1584,317,1579,316,1283,265"/>
<area shape="rect" href="movingAvg_8h.html" title="Code for sliding&#45;window average." alt="" coords="1219,313,1326,339"/>
<area shape="poly" title=" " alt="" coords="1242,264,1262,300,1257,303,1237,267"/>
<area shape="rect" href="ewma__avg_8hpp.html" title="This file implements an Exponentially Weighted Moving Average template class." alt="" coords="1351,313,1472,339"/>
<area shape="poly" title=" " alt="" coords="1262,263,1371,306,1369,311,1260,268"/>
<area shape="rect" href="utils__pins_8h.html" title="Some utility functions for pins manipulation." alt="" coords="1099,313,1195,339"/>
<area shape="poly" title=" " alt="" coords="1221,267,1173,307,1170,302,1217,263"/>
<area shape="poly" title=" " alt="" coords="1220,339,1208,341,918,391,917,386,1207,336,1219,334"/>
<area shape="poly" title=" " alt="" coords="1296,336,1378,378,1375,383,1294,341"/>
<area shape="poly" title=" " alt="" coords="1414,339,1414,373,1409,373,1409,339"/>
<area shape="poly" title=" " alt="" coords="1102,341,918,387,916,382,1101,336"/>
<area shape="poly" title=" " alt="" coords="1435,263,1459,278,1481,297,1493,318,1493,330,1486,341,1456,355,1401,367,1242,385,1063,395,918,400,918,394,1062,389,1242,379,1400,362,1455,350,1483,337,1488,328,1488,319,1477,300,1455,282,1432,268"/>
<area shape="poly" title=" " alt="" coords="1373,243,1193,195,1194,190,1375,237"/>
<area shape="poly" title=" " alt="" coords="1462,256,1587,276,1645,291,1668,301,1684,311,1695,325,1702,341,1709,372,1704,373,1697,342,1690,328,1680,315,1665,305,1643,296,1586,281,1461,262"/>
<area shape="poly" title=" " alt="" coords="1039,116,1112,157,1110,162,1037,121"/>
<area shape="rect" href="shared__var_8h.html" title=" " alt="" coords="697,167,803,192"/>
<area shape="poly" title=" " alt="" coords="769,120,759,154,754,153,764,118"/>
<area shape="poly" title=" " alt="" coords="748,193,739,221,731,258,731,299,736,319,744,337,757,353,772,365,808,383,806,387,769,369,753,356,740,340,731,321,726,300,726,258,734,219,743,191"/>
<area shape="poly" title=" " alt="" coords="896,120,861,200,842,255,827,314,825,326,827,338,835,357,846,374,841,377,830,359,822,339,820,326,822,313,836,254,856,198,891,118"/>
<area shape="poly" title=" " alt="" coords="939,116,1094,161,1093,166,938,121"/>
<area shape="poly" title=" " alt="" coords="903,119,914,299,908,299,897,119"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="utils_8h__dep__incl.png" border="0" usemap="#aMk2__fasterControl__Full_2utils_8hdep" alt=""/></div>
<map name="aMk2__fasterControl__Full_2utils_8hdep" id="aMk2__fasterControl__Full_2utils_8hdep">
<area shape="rect" title="Some utility functions." alt="" coords="5,5,177,45"/>
<area shape="rect" href="main_8cpp.html" title="Main code." alt="" coords="5,93,177,133"/>
<area shape="poly" title=" " alt="" coords="94,59,94,93,89,93,89,59"/>
</map>
</div>
</div>
<p><a href="utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac7b29dc45caaaca67299571f6a2dcc0" id="r_aac7b29dc45caaaca67299571f6a2dcc0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac7b29dc45caaaca67299571f6a2dcc0">freeRam</a> ()</td></tr>
<tr class="memdesc:aac7b29dc45caaaca67299571f6a2dcc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the available RAM during setup.  <br /></td></tr>
<tr class="separator:aac7b29dc45caaaca67299571f6a2dcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa45f069fe76674a03f3dd560dd00b1ee" id="r_gaa45f069fe76674a03f3dd560dd00b1ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Initialization.html#gaa45f069fe76674a03f3dd560dd00b1ee">printConfiguration</a> ()</td></tr>
<tr class="memdesc:gaa45f069fe76674a03f3dd560dd00b1ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the configuration during startup.  <br /></td></tr>
<tr class="separator:gaa45f069fe76674a03f3dd560dd00b1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85be36240113e579b00e944d4dbcd91a" id="r_ga85be36240113e579b00e944d4dbcd91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Telemetry.html#ga85be36240113e579b00e944d4dbcd91a">printForJSON</a> (const bool bOffPeak)</td></tr>
<tr class="memdesc:ga85be36240113e579b00e944d4dbcd91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write telemetry data to Serial in JSON format.  <br /></td></tr>
<tr class="separator:ga85be36240113e579b00e944d4dbcd91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae46d07fd4694c49e10360b5d79163443" id="r_gae46d07fd4694c49e10360b5d79163443"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Telemetry.html#gae46d07fd4694c49e10360b5d79163443">printForSerialText</a> ()</td></tr>
<tr class="memdesc:gae46d07fd4694c49e10360b5d79163443"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints data logs to the Serial output in text format.  <br /></td></tr>
<tr class="separator:gae46d07fd4694c49e10360b5d79163443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade56d6fce22a518b8feff1a150461f94" id="r_gade56d6fce22a518b8feff1a150461f94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#gade56d6fce22a518b8feff1a150461f94">sendResults</a> (bool bOffPeak)</td></tr>
<tr class="memdesc:gade56d6fce22a518b8feff1a150461f94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints or sends telemetry data logs based on the selected output format.  <br /></td></tr>
<tr class="separator:gade56d6fce22a518b8feff1a150461f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5072aae7cb8a3f575605b65c6be56329" id="r_a5072aae7cb8a3f575605b65c6be56329"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5072aae7cb8a3f575605b65c6be56329">sendTelemetryData</a> ()</td></tr>
<tr class="memdesc:a5072aae7cb8a3f575605b65c6be56329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends telemetry data using the <a class="el" href="classTeleInfo.html" title="A class for managing and sending telemetry information in a structured frame format.">TeleInfo</a> class.  <br /></td></tr>
<tr class="separator:a5072aae7cb8a3f575605b65c6be56329"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a673a8bde5c8cb0ac65947604cd88f6a8" id="r_a673a8bde5c8cb0ac65947604cd88f6a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPayloadTx__struct.html">PayloadTx_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a673a8bde5c8cb0ac65947604cd88f6a8">tx_data</a></td></tr>
<tr class="separator:a673a8bde5c8cb0ac65947604cd88f6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Some utility functions. </p>
<dl class="section author"><dt>Author</dt><dd>Frédéric Metrich (<a href="#" onclick="location.href='mai'+'lto:'+'fre'+'de'+'ric'+'.m'+'etr'+'ic'+'h@l'+'iv'+'e.f'+'r'; return false;">frede<span class="obfuscator">.nosp@m.</span>ric.<span class="obfuscator">.nosp@m.</span>metri<span class="obfuscator">.nosp@m.</span>ch@l<span class="obfuscator">.nosp@m.</span>ive.f<span class="obfuscator">.nosp@m.</span>r</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-02-09</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aac7b29dc45caaaca67299571f6a2dcc0" name="aac7b29dc45caaaca67299571f6a2dcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7b29dc45caaaca67299571f6a2dcc0">&#9670;&#160;</a></span>freeRam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int freeRam </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the available RAM during setup. </p>
<p>This function calculates the amount of free RAM available in the system. It is useful for debugging and ensuring that the system has sufficient memory for proper operation.</p>
<dl class="section return"><dt>Returns</dt><dd>int The amount of free RAM in bytes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="utils_8h_source.html#l00366">366</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00391">setup()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="utils_8h_aac7b29dc45caaaca67299571f6a2dcc0_icgraph.png" border="0" usemap="#autils_8h_aac7b29dc45caaaca67299571f6a2dcc0_icgraph" alt=""/></div>
<map name="autils_8h_aac7b29dc45caaaca67299571f6a2dcc0_icgraph" id="autils_8h_aac7b29dc45caaaca67299571f6a2dcc0_icgraph">
<area shape="rect" title="Get the available RAM during setup." alt="" coords="112,5,191,31"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
<a id="a5072aae7cb8a3f575605b65c6be56329" name="a5072aae7cb8a3f575605b65c6be56329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5072aae7cb8a3f575605b65c6be56329">&#9670;&#160;</a></span>sendTelemetryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendTelemetryData </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends telemetry data using the <a class="el" href="classTeleInfo.html" title="A class for managing and sending telemetry information in a structured frame format.">TeleInfo</a> class. </p>
<p>This function collects various telemetry data (e.g., power, voltage, temperature, etc.) and sends it in a structured format using the <code><a class="el" href="classTeleInfo.html" title="A class for managing and sending telemetry information in a structured frame format.">TeleInfo</a></code> class. The data is sent as a telemetry frame, which starts with a frame initialization, includes multiple data points, and ends with a frame finalization.</p>
<p>The function supports conditional features such as relay diversion, temperature sensing, and different supply frequencies (50 Hz or 60 Hz).</p>
<ul>
<li><b>Power Data</b>: Sends the total power grid data.</li>
<li><b>Relay Data</b>: If relay diversion is enabled (<code>RELAY_DIVERSION</code>), sends the average relay data.</li>
<li><b>Voltage Data</b>: Sends the voltage data for each phase.</li>
<li><b>Temperature Data</b>: If temperature sensing is enabled (<code>TEMP_SENSOR_PRESENT</code>), sends valid temperature readings.</li>
<li><b>Absence of Diverted Energy Count</b>: The amount of seconds without diverting energy.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The function uses compile-time constants (<code>constexpr</code>) to include or exclude specific features. Invalid temperature readings (e.g., <code>OUTOFRANGE_TEMPERATURE</code> or <code>DEVICE_DISCONNECTED_RAW</code>) are skipped.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">static_assert</td><td>If <code>SUPPLY_FREQUENCY</code> is not 50 or 60 Hz. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="utils_8h_source.html#l00265">265</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p class="reference">References <a class="el" href="shared__var_8h_source.html#l00017">Shared::absenceOfDivertedEnergyCountInSeconds</a>, <a class="el" href="shared__var_8h_source.html#l00025">Shared::copyOf_divertedEnergyTotal_Wh_forDL</a>, <a class="el" href="shared__var_8h_source.html#l00028">Shared::copyOf_lowestNoOfSampleSetsPerMainsCycle</a>, <a class="el" href="shared__var_8h_source.html#l00029">Shared::copyOf_sampleSetsDuringThisDatalogPeriod</a>, <a class="el" href="constants_8h_source.html#l00025">DEVICE_DISCONNECTED_RAW</a>, <a class="el" href="teleinfo_8h_source.html#l00228">TeleInfo::endFrame()</a>, <a class="el" href="constants_8h_source.html#l00020">OUTOFRANGE_TEMPERATURE</a>, <a class="el" href="config_8h_source.html#l00043">RELAY_DIVERSION</a>, <a class="el" href="config_8h_source.html#l00079">relays</a>, <a class="el" href="teleinfo_8h_source.html#l00208">TeleInfo::send()</a>, <a class="el" href="teleinfo_8h_source.html#l00197">TeleInfo::startFrame()</a>, <a class="el" href="config_8h_source.html#l00045">TEMP_SENSOR_PRESENT</a>, <a class="el" href="config_8h_source.html#l00089">temperatureSensing</a>, and <a class="el" href="utils_8h_source.html#l00037">tx_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="utils_8h_source.html#l00327">sendResults()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="utils_8h_a5072aae7cb8a3f575605b65c6be56329_cgraph.png" border="0" usemap="#autils_8h_a5072aae7cb8a3f575605b65c6be56329_cgraph" alt=""/></div>
<map name="autils_8h_a5072aae7cb8a3f575605b65c6be56329_cgraph" id="autils_8h_a5072aae7cb8a3f575605b65c6be56329_cgraph">
<area shape="rect" title="Sends telemetry data using the TeleInfo class." alt="" coords="5,55,155,80"/>
<area shape="rect" href="classTeleInfo.html#a37b1447161869bf3ecc2faed134b7eee" title="Finalizes the frame by adding the end character and sending the buffer over Serial." alt="" coords="205,5,352,31"/>
<area shape="poly" title=" " alt="" coords="131,52,213,31,214,37,132,57"/>
<area shape="rect" href="classTeleInfo.html#a4f418a8ad0164f7b10956c9186cdb345" title="Sends a telemetry value as an integer." alt="" coords="223,55,335,80"/>
<area shape="poly" title=" " alt="" coords="155,65,209,65,209,70,155,70"/>
<area shape="rect" href="classTeleInfo.html#ac3c9628b79d8f92c3d80dfdda4078e66" title="Initializes a new frame by resetting the buffer and adding the start character." alt="" coords="203,104,355,129"/>
<area shape="poly" title=" " alt="" coords="132,77,214,98,213,103,131,83"/>
<area shape="rect" href="classTeleInfo.html#a1f42b9e6aa9c3169b3ec469149e693a1" title="Calculates the checksum for a portion of the buffer." alt="" coords="403,31,611,56"/>
<area shape="poly" title=" " alt="" coords="335,59,388,53,389,58,335,64"/>
<area shape="rect" href="classTeleInfo.html#aa3553828cf429c6a22eec47c1b4e0458" title="Writes a tag to the buffer." alt="" coords="439,80,575,105"/>
<area shape="poly" title=" " alt="" coords="335,71,425,81,425,86,335,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="utils_8h_a5072aae7cb8a3f575605b65c6be56329_icgraph.png" border="0" usemap="#autils_8h_a5072aae7cb8a3f575605b65c6be56329_icgraph" alt=""/></div>
<map name="autils_8h_a5072aae7cb8a3f575605b65c6be56329_icgraph" id="autils_8h_a5072aae7cb8a3f575605b65c6be56329_icgraph">
<area shape="rect" title="Sends telemetry data using the TeleInfo class." alt="" coords="253,5,403,31"/>
<area shape="rect" href="group__GeneralProcessing.html#gade56d6fce22a518b8feff1a150461f94" title="Prints or sends telemetry data logs based on the selected output format." alt="" coords="104,5,205,31"/>
<area shape="poly" title=" " alt="" coords="240,21,206,21,206,15,240,15"/>
<area shape="rect" href="main_8cpp.html#afe461d27b9c48d5921c00d521181f12f" title="Main processor loop." alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,56,21,56,15,90,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a673a8bde5c8cb0ac65947604cd88f6a8" name="a673a8bde5c8cb0ac65947604cd88f6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673a8bde5c8cb0ac65947604cd88f6a8">&#9670;&#160;</a></span>tx_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPayloadTx__struct.html">PayloadTx_struct</a> tx_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>logging data </p>

<p class="definition">Definition at line <a class="el" href="utils_8h_source.html#l00037">37</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00487">loop()</a>, <a class="el" href="utils_8h_source.html#l00208">printForJSON()</a>, <a class="el" href="utils_8h_source.html#l00137">printForSerialText()</a>, <a class="el" href="main_8cpp_source.html#l00350">processCalculationsForLogging()</a>, <a class="el" href="utils_8h_source.html#l00265">sendTelemetryData()</a>, and <a class="el" href="main_8cpp_source.html#l00312">updateTemperature()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
