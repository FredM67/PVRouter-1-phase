<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>1-phase PV router: Initialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">1-phase PV router
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Initialization</div></div>
</div><!--header-->
<div class="contents">

<p>Functions and classes responsible for system setup and configuration.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8995e5745b217d64477574abf086acc7" id="r_ga8995e5745b217d64477574abf086acc7"><td class="memItemLeft" align="right" valign="top">constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8995e5745b217d64477574abf086acc7">getInputPins</a> ()</td></tr>
<tr class="memdesc:ga8995e5745b217d64477574abf086acc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the input pins configuration.  <br /></td></tr>
<tr class="separator:ga8995e5745b217d64477574abf086acc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac599ad38730b3cb0276687ba6cbfaf1e" id="r_gac599ad38730b3cb0276687ba6cbfaf1e"><td class="memItemLeft" align="right" valign="top">constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac599ad38730b3cb0276687ba6cbfaf1e">getOutputPins</a> ()</td></tr>
<tr class="memdesc:gac599ad38730b3cb0276687ba6cbfaf1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the output pins configuration.  <br /></td></tr>
<tr class="separator:gac599ad38730b3cb0276687ba6cbfaf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee63eefc2be5271dc281e6554798a0ba" id="r_gaee63eefc2be5271dc281e6554798a0ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee63eefc2be5271dc281e6554798a0ba">initializeOldPCBPins</a> ()</td></tr>
<tr class="memdesc:gaee63eefc2be5271dc281e6554798a0ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes optional pins for the old PCB configuration.  <br /></td></tr>
<tr class="separator:gaee63eefc2be5271dc281e6554798a0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeeaa08a0a50d8535fdf2c8a92d4aebc" id="r_gadeeaa08a0a50d8535fdf2c8a92d4aebc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadeeaa08a0a50d8535fdf2c8a92d4aebc">initializeProcessing</a> ()</td></tr>
<tr class="memdesc:gadeeaa08a0a50d8535fdf2c8a92d4aebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the processing engine, including ports, load states, and ADC setup.  <br /></td></tr>
<tr class="separator:gadeeaa08a0a50d8535fdf2c8a92d4aebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa45f069fe76674a03f3dd560dd00b1ee" id="r_gaa45f069fe76674a03f3dd560dd00b1ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa45f069fe76674a03f3dd560dd00b1ee">printConfiguration</a> ()</td></tr>
<tr class="memdesc:gaa45f069fe76674a03f3dd560dd00b1ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the configuration during startup.  <br /></td></tr>
<tr class="separator:gaa45f069fe76674a03f3dd560dd00b1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions and classes responsible for system setup and configuration. </p>
<p>This group includes functions and classes that handle the initialization of hardware components, system parameters, and other configurations required for the proper operation of the system.</p>
<ul>
<li>Ensures that all components are properly configured before the system starts.</li>
<li>Includes setup routines for relays, pins, ADCs, and other peripherals.</li>
<li>Provides default configurations and validations to ensure system stability. </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8995e5745b217d64477574abf086acc7" name="ga8995e5745b217d64477574abf086acc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8995e5745b217d64477574abf086acc7">&#9670;&#160;</a></span>getInputPins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t getInputPins </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the input pins configuration. </p>
<p>This function determines which pins are configured as input pins based on the current hardware setup. It ensures that no pin is configured multiple times and handles special cases like the dual tariff, diversion, rotation, and force pins.</p>
<dl class="section return"><dt>Returns</dt><dd>A 16-bit value representing the configured input pins. Returns 0 if an invalid configuration is detected.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is marked as <code>constexpr</code> and can be evaluated at compile time. </dd></dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00156">156</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

<p class="reference">References <a class="el" href="utils__pins_8h_source.html#l00065">bit_read()</a>, <a class="el" href="utils__pins_8h_source.html#l00052">bit_set()</a>, <a class="el" href="config_8h_source.html#l00039">DIVERSION_PIN_PRESENT</a>, <a class="el" href="config_8h_source.html#l00075">diversionPin</a>, <a class="el" href="config_8h_source.html#l00045">DUAL_TARIFF</a>, <a class="el" href="config_8h_source.html#l00074">dualTariffPin</a>, <a class="el" href="config_8h_source.html#l00077">forcePin</a>, <a class="el" href="config_8h_source.html#l00041">OVERRIDE_PIN_PRESENT</a>, <a class="el" href="types_8h_source.html#l00062">PIN</a>, and <a class="el" href="config_8h_source.html#l00076">rotationPin</a>.</p>

<p class="reference">Referenced by <a class="el" href="processing_8cpp_source.html#l00208">initializeProcessing()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_ga8995e5745b217d64477574abf086acc7_cgraph.png" border="0" usemap="#agroup__Initialization_ga8995e5745b217d64477574abf086acc7_cgraph" alt=""/></div>
<map name="agroup__Initialization_ga8995e5745b217d64477574abf086acc7_cgraph" id="agroup__Initialization_ga8995e5745b217d64477574abf086acc7_cgraph">
<area shape="rect" title="Retrieves the input pins configuration." alt="" coords="5,31,108,56"/>
<area shape="rect" href="utils__pins_8h.html#abaa54130a12679d0dcc0e7578e0e4d37" title="Read the specified bit." alt="" coords="156,5,231,31"/>
<area shape="poly" title=" " alt="" coords="108,31,142,25,143,30,109,36"/>
<area shape="rect" href="utils__pins_8h.html#a23ed26b879b65f5ddf07facc1e4b18bc" title="Set the specified bit to 1." alt="" coords="160,55,227,80"/>
<area shape="poly" title=" " alt="" coords="109,50,147,57,146,62,108,55"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_ga8995e5745b217d64477574abf086acc7_icgraph.png" border="0" usemap="#agroup__Initialization_ga8995e5745b217d64477574abf086acc7_icgraph" alt=""/></div>
<map name="agroup__Initialization_ga8995e5745b217d64477574abf086acc7_icgraph" id="agroup__Initialization_ga8995e5745b217d64477574abf086acc7_icgraph">
<area shape="rect" title="Retrieves the input pins configuration." alt="" coords="308,5,411,31"/>
<area shape="rect" href="group__Initialization.html#gadeeaa08a0a50d8535fdf2c8a92d4aebc" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="112,5,260,31"/>
<area shape="poly" title=" " alt="" coords="294,21,260,21,260,15,294,15"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
<a id="gac599ad38730b3cb0276687ba6cbfaf1e" name="gac599ad38730b3cb0276687ba6cbfaf1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac599ad38730b3cb0276687ba6cbfaf1e">&#9670;&#160;</a></span>getOutputPins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t getOutputPins </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the output pins configuration. </p>
<p>This function determines which pins are configured as output pins based on the current hardware setup. It ensures that no pin is configured multiple times and handles special cases like the watchdog pin.</p>
<dl class="section return"><dt>Returns</dt><dd>A 16-bit value representing the configured output pins. Returns 0 if an invalid configuration is detected.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is marked as <code>constexpr</code> and can be evaluated at compile time. </dd></dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00105">105</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

<p class="reference">References <a class="el" href="utils__pins_8h_source.html#l00065">bit_read()</a>, <a class="el" href="utils__pins_8h_source.html#l00052">bit_set()</a>, <a class="el" href="config_8h_source.html#l00069">physicalLoadPin</a>, <a class="el" href="config_8h_source.html#l00044">RELAY_DIVERSION</a>, <a class="el" href="config_8h_source.html#l00080">relays</a>, <a class="el" href="config_8h_source.html#l00043">WATCHDOG_PIN_PRESENT</a>, and <a class="el" href="config_8h_source.html#l00078">watchDogPin</a>.</p>

<p class="reference">Referenced by <a class="el" href="processing_8cpp_source.html#l00208">initializeProcessing()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_cgraph.png" border="0" usemap="#agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_cgraph" alt=""/></div>
<map name="agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_cgraph" id="agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_cgraph">
<area shape="rect" title="Retrieves the output pins configuration." alt="" coords="5,31,120,56"/>
<area shape="rect" href="utils__pins_8h.html#abaa54130a12679d0dcc0e7578e0e4d37" title="Read the specified bit." alt="" coords="168,5,243,31"/>
<area shape="poly" title=" " alt="" coords="120,31,154,24,155,30,121,36"/>
<area shape="rect" href="utils__pins_8h.html#a23ed26b879b65f5ddf07facc1e4b18bc" title="Set the specified bit to 1." alt="" coords="172,55,239,80"/>
<area shape="poly" title=" " alt="" coords="121,50,159,57,158,62,120,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_icgraph.png" border="0" usemap="#agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_icgraph" alt=""/></div>
<map name="agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_icgraph" id="agroup__Initialization_gac599ad38730b3cb0276687ba6cbfaf1e_icgraph">
<area shape="rect" title="Retrieves the output pins configuration." alt="" coords="308,5,423,31"/>
<area shape="rect" href="group__Initialization.html#gadeeaa08a0a50d8535fdf2c8a92d4aebc" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="112,5,260,31"/>
<area shape="poly" title=" " alt="" coords="294,21,261,21,261,15,294,15"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
<a id="gaee63eefc2be5271dc281e6554798a0ba" name="gaee63eefc2be5271dc281e6554798a0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee63eefc2be5271dc281e6554798a0ba">&#9670;&#160;</a></span>initializeOldPCBPins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeOldPCBPins </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes optional pins for the old PCB configuration. </p>
<p>This function configures various optional pins based on the hardware setup and feature flags. It ensures that the pins are properly initialized for their respective purposes, such as dual tariff, override, priority rotation, diversion, relay diversion, and watchdog functionality.</p>
<dl class="section warning"><dt>Warning</dt><dd>Ensure that the pin assignments are valid for the selected PCB configuration.</dd></dl>
<ul>
<li>Configures the dual tariff pin as an input with an internal pull-up resistor.</li>
<li>Configures the override pin as an input with an internal pull-up resistor.</li>
<li>Configures the priority rotation pin as an input with an internal pull-up resistor.</li>
<li>Configures the diversion pin as an input with an internal pull-up resistor.</li>
<li>Initializes relay diversion pins if enabled.</li>
<li>Configures the watchdog pin as an output and sets it to OFF. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l01254">1254</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

<p class="reference">References <a class="el" href="config_8h_source.html#l00039">DIVERSION_PIN_PRESENT</a>, <a class="el" href="config_8h_source.html#l00075">diversionPin</a>, <a class="el" href="config_8h_source.html#l00045">DUAL_TARIFF</a>, <a class="el" href="config_8h_source.html#l00074">dualTariffPin</a>, <a class="el" href="config_8h_source.html#l00077">forcePin</a>, <a class="el" href="test__fastdivision_2test__main_8cpp_source.html#l00119">i</a>, <a class="el" href="processing_8h_source.html#l00024">loadPrioritiesAndState</a>, <a class="el" href="config_8h_source.html#l00070">loadPrioritiesAtStartup</a>, <a class="el" href="types_8h_source.html#l00054">loadStateMask</a>, <a class="el" href="config_8h_source.html#l00036">NO_OF_DUMPLOADS</a>, <a class="el" href="config_8h_source.html#l00041">OVERRIDE_PIN_PRESENT</a>, <a class="el" href="config_8h_source.html#l00069">physicalLoadPin</a>, <a class="el" href="types_8h_source.html#l00062">PIN</a>, <a class="el" href="config_8h_source.html#l00044">RELAY_DIVERSION</a>, <a class="el" href="config_8h_source.html#l00080">relays</a>, <a class="el" href="config_8h_source.html#l00076">rotationPin</a>, <a class="el" href="utils__pins_8h_source.html#l00158">setPinOFF()</a>, <a class="el" href="processing_8cpp_source.html#l00315">updatePhysicalLoadStates()</a>, <a class="el" href="processing_8cpp_source.html#l00264">updatePortsStates()</a>, <a class="el" href="config_8h_source.html#l00043">WATCHDOG_PIN_PRESENT</a>, and <a class="el" href="config_8h_source.html#l00078">watchDogPin</a>.</p>

<p class="reference">Referenced by <a class="el" href="processing_8cpp_source.html#l00208">initializeProcessing()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gaee63eefc2be5271dc281e6554798a0ba_cgraph.png" border="0" usemap="#agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_cgraph" alt=""/></div>
<map name="agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_cgraph" id="agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_cgraph">
<area shape="rect" title="Initializes optional pins for the old PCB configuration." alt="" coords="5,55,159,80"/>
<area shape="rect" href="utils__pins_8h.html#ada7e18750d04838130ee63030dcf185d" title="Set the Pin state to OFF for the specified pin." alt="" coords="259,5,347,31"/>
<area shape="poly" title=" " alt="" coords="139,52,245,28,246,33,140,57"/>
<area shape="rect" href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88" title="This function provides the link between the logical and physical loads." alt="" coords="207,55,400,80"/>
<area shape="poly" title=" " alt="" coords="159,65,193,65,193,70,159,70"/>
<area shape="rect" href="group__TimeCritical.html#ga44ac46a7ff4e0717bd668d5907b38249" title="Updates the control ports for each of the physical loads." alt="" coords="233,104,374,129"/>
<area shape="poly" title=" " alt="" coords="140,77,233,98,232,104,139,83"/>
<area shape="rect" href="utils__pins_8h.html#aeae4199ba44e9e5de9d228a6b6a8133e" title="Clear the specified bit." alt="" coords="456,5,535,31"/>
<area shape="poly" title=" " alt="" coords="348,15,442,15,442,21,348,21"/>
<area shape="rect" href="utils__pins_8h.html#a7195575c2ba8a186bd9758e4e2a141fd" title="Set the Pins state to OFF." alt="" coords="448,79,543,104"/>
<area shape="poly" title=" " alt="" coords="374,105,434,97,435,102,374,110"/>
<area shape="rect" href="utils__pins_8h.html#ae60db4342d45f22fa3bf5b297cf95bf3" title="Set the Pins state to ON." alt="" coords="451,128,540,153"/>
<area shape="poly" title=" " alt="" coords="374,123,438,131,437,136,374,128"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gaee63eefc2be5271dc281e6554798a0ba_icgraph.png" border="0" usemap="#agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_icgraph" alt=""/></div>
<map name="agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_icgraph" id="agroup__Initialization_gaee63eefc2be5271dc281e6554798a0ba_icgraph">
<area shape="rect" title="Initializes optional pins for the old PCB configuration." alt="" coords="308,5,461,31"/>
<area shape="rect" href="group__Initialization.html#gadeeaa08a0a50d8535fdf2c8a92d4aebc" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="112,5,260,31"/>
<area shape="poly" title=" " alt="" coords="294,21,260,21,260,15,294,15"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
<a id="gadeeaa08a0a50d8535fdf2c8a92d4aebc" name="gadeeaa08a0a50d8535fdf2c8a92d4aebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeeaa08a0a50d8535fdf2c8a92d4aebc">&#9670;&#160;</a></span>initializeProcessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeProcessing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the processing engine, including ports, load states, and ADC setup. </p>
<p>This function performs the following tasks:</p><ul>
<li>Initializes the DC offset array for voltage samples.</li>
<li>Configures the input and output pins based on the hardware setup.</li>
<li>Sets up the ADC in free-running mode with interrupts enabled.</li>
<li>Prepares the system for processing energy and load states.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This function must be called during system initialization to ensure proper operation. </dd></dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00208">208</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

<p class="reference">References <a class="el" href="utils__pins_8h_source.html#l00078">bit_clear()</a>, <a class="el" href="utils__pins_8h_source.html#l00052">bit_set()</a>, <a class="el" href="processing_8cpp_source.html#l00156">getInputPins()</a>, <a class="el" href="processing_8cpp_source.html#l00105">getOutputPins()</a>, <a class="el" href="test__fastdivision_2test__main_8cpp_source.html#l00119">i</a>, <a class="el" href="processing_8cpp_source.html#l01254">initializeOldPCBPins()</a>, <a class="el" href="processing_8h_source.html#l00024">loadPrioritiesAndState</a>, <a class="el" href="config_8h_source.html#l00070">loadPrioritiesAtStartup</a>, <a class="el" href="types_8h_source.html#l00054">loadStateMask</a>, <a class="el" href="config_8h_source.html#l00036">NO_OF_DUMPLOADS</a>, <a class="el" href="config_8h_source.html#l00050">OLD_PCB</a>, <a class="el" href="utils__pins_8h_source.html#l00224">setPinsAsInputPullup()</a>, and <a class="el" href="utils__pins_8h_source.html#l00213">setPinsAsOutput()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00391">setup()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_cgraph.png" border="0" usemap="#agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_cgraph" alt=""/></div>
<map name="agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_cgraph" id="agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_cgraph">
<area shape="rect" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="5,185,153,211"/>
<area shape="rect" href="utils__pins_8h.html#aeae4199ba44e9e5de9d228a6b6a8133e" title="Clear the specified bit." alt="" coords="657,11,736,36"/>
<area shape="poly" title=" " alt="" coords="87,183,130,128,163,96,200,69,256,42,317,24,378,12,440,5,554,5,643,12,643,18,554,10,440,11,379,17,318,29,258,47,203,73,166,100,134,131,91,187"/>
<area shape="rect" href="utils__pins_8h.html#a23ed26b879b65f5ddf07facc1e4b18bc" title="Set the specified bit to 1." alt="" coords="471,185,538,211"/>
<area shape="poly" title=" " alt="" coords="129,183,201,170,281,165,360,170,458,185,457,190,360,175,281,170,202,175,130,188"/>
<area shape="rect" href="group__Initialization.html#ga8995e5745b217d64477574abf086acc7" title="Retrieves the input pins configuration." alt="" coords="229,235,332,260"/>
<area shape="poly" title=" " alt="" coords="132,208,217,229,215,234,131,213"/>
<area shape="rect" href="group__Initialization.html#gac599ad38730b3cb0276687ba6cbfaf1e" title="Retrieves the output pins configuration." alt="" coords="223,185,338,211"/>
<area shape="poly" title=" " alt="" coords="154,195,210,195,210,201,154,201"/>
<area shape="rect" href="group__Initialization.html#gaee63eefc2be5271dc281e6554798a0ba" title="Initializes optional pins for the old PCB configuration." alt="" coords="204,84,357,109"/>
<area shape="poly" title=" " alt="" coords="100,183,200,126,232,112,234,117,203,131,102,187"/>
<area shape="rect" href="utils__pins_8h.html#ac106ac6266d5d7a5328ea0c63778a873" title="Set the pins as INPUT_PULLUP." alt="" coords="201,284,360,309"/>
<area shape="poly" title=" " alt="" coords="100,209,145,239,202,270,219,277,217,282,200,275,142,243,97,213"/>
<area shape="rect" href="utils__pins_8h.html#ad448cf4026a22a8190ea178a02702b2e" title="Set the pins as OUTPUT." alt="" coords="216,333,345,359"/>
<area shape="poly" title=" " alt="" coords="92,209,136,263,167,293,203,320,214,326,212,330,200,324,164,297,132,266,88,212"/>
<area shape="poly" title=" " alt="" coords="332,233,457,205,458,211,333,239"/>
<area shape="rect" href="utils__pins_8h.html#abaa54130a12679d0dcc0e7578e0e4d37" title="Read the specified bit." alt="" coords="467,235,542,260"/>
<area shape="poly" title=" " alt="" coords="332,245,453,245,453,250,332,250"/>
<area shape="poly" title=" " alt="" coords="338,195,458,195,458,201,338,201"/>
<area shape="poly" title=" " alt="" coords="339,208,454,234,453,239,338,213"/>
<area shape="rect" href="utils__pins_8h.html#ada7e18750d04838130ee63030dcf185d" title="Set the Pin state to OFF for the specified pin." alt="" coords="461,36,549,61"/>
<area shape="poly" title=" " alt="" coords="340,81,447,58,448,63,341,86"/>
<area shape="rect" href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88" title="This function provides the link between the logical and physical loads." alt="" coords="408,85,601,111"/>
<area shape="poly" title=" " alt="" coords="358,94,394,95,394,100,358,100"/>
<area shape="rect" href="group__TimeCritical.html#ga44ac46a7ff4e0717bd668d5907b38249" title="Updates the control ports for each of the physical loads." alt="" coords="434,135,575,160"/>
<area shape="poly" title=" " alt="" coords="338,107,435,129,434,134,337,112"/>
<area shape="poly" title=" " alt="" coords="549,40,643,27,644,33,549,45"/>
<area shape="rect" href="utils__pins_8h.html#a7195575c2ba8a186bd9758e4e2a141fd" title="Set the Pins state to OFF." alt="" coords="649,159,744,184"/>
<area shape="poly" title=" " alt="" coords="576,153,636,161,635,166,575,159"/>
<area shape="rect" href="utils__pins_8h.html#ae60db4342d45f22fa3bf5b297cf95bf3" title="Set the Pins state to ON." alt="" coords="652,109,741,135"/>
<area shape="poly" title=" " alt="" coords="575,135,638,127,639,132,576,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_icgraph.png" border="0" usemap="#agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_icgraph" alt=""/></div>
<map name="agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_icgraph" id="agroup__Initialization_gadeeaa08a0a50d8535fdf2c8a92d4aebc_icgraph">
<area shape="rect" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="112,5,260,31"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
<a id="gaa45f069fe76674a03f3dd560dd00b1ee" name="gaa45f069fe76674a03f3dd560dd00b1ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa45f069fe76674a03f3dd560dd00b1ee">&#9670;&#160;</a></span>printConfiguration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void printConfiguration </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the configuration during startup. </p>
<p>This function outputs the system configuration to the Serial output during startup. It includes details about the sketch, build information, electrical settings, and enabled features.</p>
<ul>
<li>Prints the sketch ID, branch name, commit hash, and build date/time.</li>
<li>Outputs electrical settings such as power calibration, voltage calibration, and phase calibration.</li>
<li>Displays enabled features like temperature sensing, dual tariff, load rotation, relay diversion, and RF communication.</li>
<li>Logs the selected datalogging format (Human-readable, IoT, or JSON). </li>
</ul>

<p class="definition">Definition at line <a class="el" href="utils_8h_source.html#l00045">45</a> of file <a class="el" href="utils_8h_source.html">utils.h</a>.</p>

<p class="reference">References <a class="el" href="config__system_8h_source.html#l00032">ANTI_CREEP_LIMIT</a>, <a class="el" href="version_8h_source.html#l00006">BRANCH_NAME</a>, <a class="el" href="version_8h_source.html#l00007">COMMIT_HASH</a>, <a class="el" href="version_8h_source.html#l00005">CURRENT_TIME</a>, <a class="el" href="debug_8h_source.html#l00096">DBUG</a>, <a class="el" href="debug_8h_source.html#l00097">DBUGLN</a>, <a class="el" href="types_8h_source.html#l00027">HumanReadable</a>, <a class="el" href="types_8h_source.html#l00028">IoT</a>, <a class="el" href="types_8h_source.html#l00029">JSON</a>, <a class="el" href="calibration_8h_source.html#l00035">powerCal_diverted</a>, <a class="el" href="calibration_8h_source.html#l00034">powerCal_grid</a>, <a class="el" href="processing_8cpp_source.html#l01153">printParamsForSelectedOutputMode()</a>, <a class="el" href="version_8h_source.html#l00004">PROJECT_PATH</a>, <a class="el" href="config__system_8h_source.html#l00029">REQUIRED_EXPORT_IN_WATTS</a>, and <a class="el" href="config_8h_source.html#l00034">SERIAL_OUTPUT_TYPE</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00391">setup()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_cgraph.png" border="0" usemap="#agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_cgraph" alt=""/></div>
<map name="agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_cgraph" id="agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_cgraph">
<area shape="rect" title="Print the configuration during startup." alt="" coords="5,5,144,31"/>
<area shape="rect" href="processing_8cpp.html#aa2b3b1d496e37e5f29af6a766743dc8b" title="Print the settings used for the selected output mode." alt="" coords="192,5,448,31"/>
<area shape="poly" title=" " alt="" coords="144,15,178,15,178,21,144,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_icgraph.png" border="0" usemap="#agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_icgraph" alt=""/></div>
<map name="agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_icgraph" id="agroup__Initialization_gaa45f069fe76674a03f3dd560dd00b1ee_icgraph">
<area shape="rect" title="Print the configuration during startup." alt="" coords="112,5,251,31"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="5,5,64,31"/>
<area shape="poly" title=" " alt="" coords="98,21,64,21,64,15,98,15"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
